"use strict";!function(){var e=document.querySelector(".link-submit"),t=document.querySelector(".link-input"),a=document.querySelector(".url-img-container");e.addEventListener("click",function(e){e.preventDefault(),ajax({url:"/api/v1/url",method:"PUT",dataType:"json",data:JSON.stringify({url:t.value}),success:function(e){a.innerHTML="";var t=document.createElement("a");t.innerText="View Fullscreen",t.setAttribute("target","_blank"),t.setAttribute("rel","noopener"),t.href=e.svgUrl,a.appendChild(t);var n=document.createElement("img");n.src=e.svgUrl,a.appendChild(n);var r=document.createElement("a");r.innerText=e.data,r.setAttribute("target","_blank"),r.setAttribute("rel","noopener"),r.href=e.data,a.appendChild(r)},error:function(e,t,n){console.error(t,n)}})})}(),function(){var r=document.getElementById("vcard-form"),e=r.querySelector(".vCard-submit"),a=document.querySelector(".vcard-img-container");e.addEventListener("click",function(e){var n;e.preventDefault(),ajax({url:"/api/v1/vcard",method:"PUT",dataType:"json",data:JSON.stringify((n={},t.forEach(function(e){var t=r.querySelector("."+e);n[e]=t.value}),n)),success:function(e){a.innerHTML="";var t=document.createElement("a");t.innerText="View Fullscreen",t.setAttribute("target","_blank"),t.setAttribute("rel","noopener"),t.href=e.svgUrl,a.appendChild(t);var n=document.createElement("img");n.src=e.svgUrl,a.appendChild(n)},error:function(e,t,n){console.error(t,n)}})});var t=["firstName","lastName","namePrefix","nameSuffix","nickname","organization","title","website","email","workEmail","cellPhone","workPhone","homePhone","pager","homeFax","workFax","birthday","anniversary","notes"]}(),function(){var r=document.getElementById("email-form"),e=r.querySelector(".email-submit"),a=document.querySelector(".email-img-container"),t=["email","subject","body"];e.addEventListener("click",function(e){e.preventDefault();var n={};t.forEach(function(e){var t=r.querySelector("."+e);t&&t.value&&(n[e]=t.value)}),ajax({url:"/api/v1/email",method:"PUT",dataType:"json",data:JSON.stringify(n),success:function(e){a.innerHTML="";var t=document.createElement("a");t.innerText="View Fullscreen",t.setAttribute("target","_blank"),t.setAttribute("rel","noopener"),t.href=e.svgUrl,a.appendChild(t);var n=document.createElement("img");n.src=e.svgUrl,a.appendChild(n)},error:function(e,t,n){console.error(t,n)}})})}(),function(){var e=document.getElementById("sms-form-container").querySelector(".sms-submit"),r=document.querySelector(".sms-img-container");e.addEventListener("click",function(e){e.preventDefault();var n={};["number","body"].forEach(function(e){var t=document.querySelector("."+e);t&&t.value&&(n[e]=t.value)}),ajax({url:"/api/v1/sms",method:"PUT",dataType:"json",data:JSON.stringify(n),success:function(e){r.innerHTML="";var t=document.createElement("a");t.innerText="View Fullscreen",t.setAttribute("target","_blank"),t.setAttribute("rel","noopener"),t.href=e.svgUrl,r.appendChild(t);var n=document.createElement("img");n.src=e.svgUrl,r.appendChild(n)},error:function(e,t,n){console.error(t,n)}})})}(),[{url:"/api/v1/url",containerId:"links"},{url:"/api/v1/vcard",containerId:"vcards"},{url:"/api/v1/email",containerId:"emails"},{url:"/api/v1/sms",containerId:"smss"},{url:"/api/v1/phone",containerId:"phones"}].forEach(function(r){ajax({url:r.url,method:"GET",dataType:"json",success:function(e){var t="";e.forEach(function(e){t+='\n                        <p>\n                            <a href="'+e.apiUrl+'" target="_blank" rel="noopener" style="font-family: monospace;">'+e.id+"</a><br>\n                            <strong>Created:</strong> "+e.created+"<br>\n                        </p>\n                    "});var n=document.getElementById(r.containerId);n?n.innerHTML=t:console.error("Failed to lookup containerId for "+r.url+" route")},error:function(e,t,n){console.error("Failed to fetch data for "+r.url+" route"),console.error(t,n)}})}),function(){function t(e){var t=this.getAttribute("data-target");if(t){[].slice.call(r.querySelectorAll(".pane")).forEach(function(e){e.classList.remove("active")});var n=document.querySelector(t);n&&(n.classList.add("active"),a.forEach(function(e){e.classList.remove("active")}),this.classList.add("active"))}}var r=document.getElementById("pane-container"),a=[document.getElementById("url-pane-btn"),document.getElementById("vcard-pane-btn"),document.getElementById("email-pane-btn"),document.getElementById("sms-pane-btn"),document.getElementById("phone-pane-btn")];a.forEach(function(e){e.addEventListener("click",t)})}();
//# sourceMappingURL=main.min.js.map